syntax = "proto3";

option go_package = "./server";
// Object refers a JSON string

package operations;

service DatabaseOperationsService {
  rpc GetRecords (ReadQuery) returns (ReadResponse) {}
  rpc WriteRecord (WriteQuery) returns (WriteResponse) {}
  rpc UpdateRecord (UpdateQuery) returns (WriteResponse) {}
  rpc DeleteRecord (ReadQuery) returns (WriteResponse) {}
}

message ReadQuery {
  string collection = 1;
  string query_object = 2;
}

message ReadResponse {
  string data_object = 1;
}

message WriteQuery {
  string collection = 1;
  string write_object = 2;
}

message WriteResponse {
  bool write_completed = 1;
}

message UpdateQuery {
  ReadQuery read_query = 1;
  WriteQuery write_query = 2;
}

